# MessengerApp

## Курсовая работа на курса Android Developer, Тинькофф Финтех

## **О проекте**

Приложение представляет из себя упрощенную версию Slack, содержащее в себе 4 экрана:

- Экран со стримами;
- Экран с чатом;
- Экран со списком участников;
- Экран профиля.

### **Экран со стримами**

Экран со стримами содержит в себе стримы, на которые подписан пользователь и все существующие стримы. Каждый стрим содержит в себе хотя бы один топик, нажав на который пользователь попадает в чат этого топика.

В верхней части экрана расположена поисковая строка, которая позволяет пользователю найти стрим по его названию.

В правом нижнем углу располагается кнопка для добавления стримов. Запрос на создание стрима отправляется на сервер и в случае его успешного выполнения новый стрим появляется в списке стримов, на которые подписан пользователь.

### **Экран с чатом**

Экран с чатом содержит в себе все отправленные пользователями сообщения. На каждое сообщение можно добавить свою реакцию, нажав на кнопочку с плюсом под сообщением или же через меню сообщения, которое можно вызвать лонгтапом. Также можно нажать на существующую рекцию и тогда эта же реакция на сообщение добавится от вашего лица (или же удалится, если эта реакция уже была добавлена вами)

Если сделать лонгтап по сообщению, то появится BottomSheet со всеми возможными действиями над сообщением, а именно:

- Добавить реакцию;
- Редактировать сообщение (Только свои сообщения);
- Изменить топик (Только свои сообщения);
- Скопировать сообщение;
- Удалить сообщение (Только свои сообщения).

При отправке сообщения возможны следующие ситуации:

*Сообщение отправляется*:

<img src="https://user-images.githubusercontent.com/53127411/149842827-2daccadc-c069-4575-a364-8997c9d8649f.png" height="200">

*Сообщение отправлено*:

<img src="https://user-images.githubusercontent.com/53127411/149842557-748ede3c-3d77-493d-8afb-b0b3e1149680.png" height="200">

*Сообщение не удалось отправить*:

<img src="https://user-images.githubusercontent.com/53127411/149842858-35a14872-fe03-4bee-9f98-f5078300da63.png" height="200">

### **Экран с участниками**

Экран с участниками содержит в себе список всех участников. На нем также присутствует строка поиска для поиска пользователей по имени или электронной почте.

При нажатии на одного из участников открывается экран с его профилем.

### **Экран профиля**

Экран профиля содержит в себе фотографию пользователя, его имя и фамилию и текущий статус.

___

## Используемые технологии

### **Работа с удаленным сервером**

Для работы с удаленным сервером использовалась библиотека [Retrofit2](https://github.com/square/retrofit), с помощью этой библиотеки были реализованы все запросы на сервер.

Так как ответы с сервера приходили в формате json, то также была использована библиотека [Moshi](https://github.com/square/moshi), которая помогала парсить ответы с сервера в DTO. Она была выбрана так как работает на кодогенерации, а не на рефлекскии, что положительно влияет на скорость работы приложения.

Для логгирования запросов и ответов от сервера использовался logging-interceptor.

### **Локальная база данных**

Для работы с локальной базой данных была использована библиотека Room. Она была выбрана так как эта библиотека предоставляет очень удобную абстракцию для работы с SQLite.

### **Многопоточность**

Для реализации многопоточности в приложении была использована библиотека [RxJava3](https://github.com/ReactiveX/RxJava), так как она очень упрощает работу с несколькими потоками и позваляет создавать удобные цепочки.

### **Архитектура**

В качестве архитектуры была выбрана ELM/TEA реализованная с помощью библиотеки [Elmslie](https://github.com/vivid-money/elmslie) от vivid money. Некоторые экраны приложения содержат в себе очень много различных состояний, а данная архитектура очень хорошо подходит для этих целей.

### **DI**

Для DI была выбрана архитектура [Dagger2](https://github.com/google/dagger), так как она работает на кодогенерации, а следовательно не влияет на скорость работы приложения.

### **Другое**

- Для удобного логгирования была использована библиотека [Timber](https://github.com/JakeWharton/timber);
- Для работы с картинками была использована библиотека [Coil](https://github.com/coil-kt/coil), так как она достаточно легковесная, потому что разбита на несколько модулей в отличие от того же Glide. Помимо этого она достаточно простая в использовании.
- Для красивого отображения загрузки был использован [Shimmer](https://github.com/facebook/shimmer-android) от facebook.
